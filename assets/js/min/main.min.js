(()=>{function m(){let t=document.querySelector('meta[name="google-analytics-id"]').content,i=document.getElementById("cookie-consent-banner"),e=document.getElementById("cookie-consent-accept"),n=document.getElementById("cookie-consent-decline");if(!t||!i)return;window.dataLayer=window.dataLayer||[];function o(){dataLayer.push(arguments)}o("consent","default",{analytics_storage:"denied"});let s=()=>{let l=document.createElement("script");l.async=!0,l.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,document.head.appendChild(l),o("js",new Date),o("config",t)},c=(l,u=!0)=>{u&&localStorage.setItem("cookie-consent",l),i.style.display="none",o("consent","update",{analytics_storage:l==="accepted"?"granted":"denied"}),l==="accepted"&&s()};e==null||e.addEventListener("click",()=>c("accepted")),n==null||n.addEventListener("click",()=>c("declined"));let r=localStorage.getItem("cookie-consent");r?c(r,!1):i.style.display="block"}function g(){let t=document.getElementById("cookie-consent-banner"),i=parseFloat(getComputedStyle(document.documentElement).fontSize),e=()=>{if(t&&t.style.display!=="none"){let n=t.offsetHeight;document.body.style.marginBottom=n+.3*i+"px"}else document.body.style.marginBottom="0"};t&&new MutationObserver(e).observe(t,{attributes:!0,attributeFilter:["style","class"]}),e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e)}function f(){let t=document.querySelector(".author__urls"),i=()=>{let n=document.querySelector(".author__urls-wrapper button"),o=n===null?window.innerWidth>925:!n.offsetParent;t&&(t.style.display=o?"block":"none")};i(),window.addEventListener("resize",i);let e=document.querySelector(".author__urls-wrapper button");e&&e.addEventListener("click",()=>{t&&(t.style.display=t.style.display==="none"||t.style.display===""?"block":"none"),e.classList.toggle("open")})}function p(){let t=document.getElementById("site-nav");if(!t)return;let i=t.querySelector("#theme-toggle"),e=t.querySelector("#dropdown-menu"),n=t.querySelector(".visible-links"),o=t.querySelector(".hidden-links");if(!i||!e||!n||!o)return;let s=[],c=!1,r=(a,d)=>a.classList.contains(d),l=(a,d)=>a.classList.add(d),u=(a,d)=>a.classList.remove(d),v=(a,d)=>a.classList.toggle(d),E=()=>{let d=r(e,"hidden")?t.offsetWidth-i.offsetWidth:t.offsetWidth-i.offsetWidth-e.offsetWidth-30;for(;n.offsetWidth>d&&n.lastElementChild;)s.push(n.offsetWidth),o.insertBefore(n.lastElementChild,o.firstChild),u(e,"hidden");for(;s.length&&d>s[s.length-1]&&o.firstElementChild;)n.appendChild(o.firstElementChild),s.pop();s.length||(l(e,"hidden"),l(o,"hidden")),e.setAttribute("data-count",s.length)},w=()=>{v(o,"hidden"),v(e,"close"),c=!r(o,"hidden")},L=()=>{c&&(l(o,"hidden"),u(e,"close"),c=!1)};window.addEventListener("resize",E),window.addEventListener("scroll",L),e.addEventListener("click",w),E()}function h({expandedLabel:t="&rtrif; ",collapsedLabel:i="&dtrif; "}={}){document.querySelectorAll(".header").forEach(e=>{let n=e.nextElementSibling;if(!n)return;let o=e.textContent.trim();e.innerHTML=t+o,n.dataset.expanded="false",e.addEventListener("click",()=>{let s=n.dataset.expanded==="true";n.dataset.expanded=(!s).toString(),e.innerHTML=(s?t:i)+o,n.style.maxHeight=s?"0px":n.scrollHeight+"px"})})}function y(){let t=document.querySelector('meta[name="theme-color"]'),i=document.getElementById("theme-toggle"),e=document.getElementById("icon-moon"),n=document.getElementById("icon-sun");if(!t||!i)return;let o=c=>{let r=c==="light";document.documentElement.setAttribute("data-theme",c),localStorage.setItem("theme",c),e.classList.toggle("visible",r),n.classList.toggle("visible",!r),e.style.opacity=r?1:0,n.style.opacity=r?0:1,t.setAttribute("content",r?"#ffffff":"#000000")};i.addEventListener("click",()=>{let r=(document.documentElement.getAttribute("data-theme")==="dark"?"dark":"light")==="dark"?"light":"dark";o(r)});let s=localStorage.getItem("theme");if(s)o(s);else{let c=window.matchMedia("(prefers-color-scheme: dark)").matches;o(c?"dark":"light")}}function b(t){let i=document.getElementById(t);i&&i.addEventListener("click",e=>{var s;e.preventDefault();let n=(s=i.getAttribute("href"))==null?void 0:s.substring(1);if(!n)return;let o=document.getElementById(n);o&&(o.scrollIntoView({behavior:"smooth"}),o.setAttribute("tabindex","-1"),o.focus())})}function k(){document.querySelectorAll(".show-notice-link").forEach(i=>{i.addEventListener("click",e=>{e.preventDefault();let n=i.getAttribute("data-target"),o=i.getAttribute("data-display-style")||"block",s=parseInt(i.getAttribute("data-duration"),10)||5e3;n&&S(n,o,s)})})}var S=(t,i="block",e=5e3)=>{let n=document.getElementById(t);n.style.display=i,setTimeout(()=>{n.style.display="none"},e)};document.addEventListener("DOMContentLoaded",()=>{m(),g(),b("skip-link-main-content"),f(),p(),y(),h({expandedLabel:"&rtrif; ",collapsedLabel:"&dtrif; "}),k()});})();
/*!
 * Copyright (c) 2025 Wei Xu
 * ProfilAcademique: https://github.com/xuweiwen/ProfilAcademique
 * Licensed under the MIT License.
 * See LICENSE file for full license text.
 */
/*!
 * This project is a derivative work of the jQuery plugin Greedy Navigation,
 * originally developed by Luke Jackson (https://github.com/lukejacksonn/GreedyNav).
 *
 * The present implementation has been rewritten entirely in native JavaScript,
 * following the logic and structure of the original version.
 *
 * Copyright (c) 2025 Wei Xu
 * ProfilAcademique: https://github.com/xuweiwen/ProfilAcademique
 * Modifications licensed under the MIT License.
 * See LICENSE file for full license text.
 */
