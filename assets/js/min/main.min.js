(()=>{function u(){let e=document.querySelector('meta[name="google-analytics-id"]').content,i=document.getElementById("cookie-consent-banner"),t=document.getElementById("cookie-consent-accept"),n=document.getElementById("cookie-consent-decline");if(!e||!i)return;window.dataLayer=window.dataLayer||[];function o(){dataLayer.push(arguments)}o("consent","default",{analytics_storage:"denied"});let s=()=>{let l=document.createElement("script");l.async=!0,l.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(l),o("js",new Date),o("config",e)},c=(l,m=!0)=>{m&&localStorage.setItem("cookie-consent",l),i.style.display="none",o("consent","update",{analytics_storage:l==="accepted"?"granted":"denied"}),l==="accepted"&&s()};t==null||t.addEventListener("click",()=>c("accepted")),n==null||n.addEventListener("click",()=>c("declined"));let r=localStorage.getItem("cookie-consent");r?c(r,!1):i.style.display="block"}function f(){let e=document.getElementById("cookie-consent-banner"),i=parseFloat(getComputedStyle(document.documentElement).fontSize),t=()=>{if(e&&e.style.display!=="none"){let n=e.offsetHeight;document.body.style.marginBottom=n+.3*i+"px"}else document.body.style.marginBottom="0"};e&&new MutationObserver(t).observe(e,{attributes:!0,attributeFilter:["style","class"]}),t(),window.addEventListener("resize",t),window.addEventListener("orientationchange",t)}function g(){let e=document.querySelector(".author__urls"),i=()=>{let n=document.querySelector(".author__urls-wrapper button"),o=n===null?window.innerWidth>925:!n.offsetParent;e&&(e.style.display=o?"block":"none")};i(),window.addEventListener("resize",i);let t=document.querySelector(".author__urls-wrapper button");t&&t.addEventListener("click",()=>{e&&(e.style.display=e.style.display==="none"||e.style.display===""?"block":"none"),t.classList.toggle("open")})}function p(){let e=document.getElementById("site-nav");if(!e)return;let i=e.querySelector("#theme-toggle"),t=e.querySelector("#dropdown-menu"),n=e.querySelector(".visible-links"),o=e.querySelector(".hidden-links");if(!i||!t||!n||!o)return;let s=[],c=!1,r=(d,a)=>d.classList.contains(a),l=(d,a)=>d.classList.add(a),m=(d,a)=>d.classList.remove(a),w=(d,a)=>d.classList.toggle(a),x=()=>{let a=r(t,"hidden")?e.offsetWidth-i.offsetWidth:e.offsetWidth-i.offsetWidth-t.offsetWidth-30;for(;n.offsetWidth>a&&n.lastElementChild;)s.push(n.offsetWidth),o.insertBefore(n.lastElementChild,o.firstChild),m(t,"hidden");for(;s.length&&a>s[s.length-1]&&o.firstElementChild;)n.appendChild(o.firstElementChild),s.pop();s.length||(l(t,"hidden"),l(o,"hidden")),t.setAttribute("data-count",s.length)},S=()=>{w(o,"hidden"),w(t,"close"),c=!r(o,"hidden")},I=()=>{c&&(l(o,"hidden"),m(t,"close"),c=!1)};window.addEventListener("resize",x),window.addEventListener("scroll",I),t.addEventListener("click",S),x()}function h({expandedLabel:e="&rtrif; ",collapsedLabel:i="&dtrif; "}={}){document.querySelectorAll(".header").forEach(t=>{let n=t.nextElementSibling;if(!n)return;let o=t.textContent.trim();t.innerHTML=e+o,n.dataset.expanded="false",t.addEventListener("click",()=>{let s=n.dataset.expanded==="true";n.dataset.expanded=(!s).toString(),t.innerHTML=(s?e:i)+o,n.style.maxHeight=s?"0px":n.scrollHeight+"px"})})}function y(){let e=document.querySelector('meta[name="theme-color"]'),i=document.getElementById("theme-toggle"),t=document.getElementById("icon-moon"),n=document.getElementById("icon-sun");if(!e||!i)return;let o=c=>{let r=c==="light";document.documentElement.setAttribute("data-theme",c),localStorage.setItem("theme",c),t.classList.toggle("visible",r),n.classList.toggle("visible",!r),t.style.opacity=r?1:0,n.style.opacity=r?0:1,e.setAttribute("content",r?"#ffffff":"#000000")};i.addEventListener("click",()=>{let r=(document.documentElement.getAttribute("data-theme")==="dark"?"dark":"light")==="dark"?"light":"dark";o(r)});let s=localStorage.getItem("theme");if(s)o(s);else{let c=window.matchMedia("(prefers-color-scheme: dark)").matches;o(c?"dark":"light")}}function b(){let e=document.body,i=document.querySelectorAll("[data-modal-open]"),t=document.querySelectorAll("[data-modal-close]");i.forEach(n=>{n.addEventListener("click",()=>{let o=n.dataset.modalOpen;document.getElementById(o).classList.add("active"),e.classList.add("show-modal")})}),t.forEach(n=>{n.addEventListener("click",()=>{n.closest(".modal").classList.remove("active"),document.querySelectorAll(".modal.active").length===0&&e.classList.remove("show-modal")})})}function v(){document.querySelectorAll('a[href^="http"]').forEach(e=>{e.href.startsWith(location.origin)||(e.target="_blank",e.rel="noopener noreferrer")})}function k(){document.querySelectorAll("figure iframe").forEach(e=>{let i=e.width||16,t=e.height||9;e.style.aspectRatio=`${i} / ${t}`})}function E(e){let i=document.getElementById(e);i&&i.addEventListener("click",t=>{var s;t.preventDefault();let n=(s=i.getAttribute("href"))==null?void 0:s.substring(1);if(!n)return;let o=document.getElementById(n);o&&(o.scrollIntoView({behavior:"smooth"}),o.setAttribute("tabindex","-1"),o.focus())})}function L(){document.querySelectorAll(".show-notice-link").forEach(i=>{i.addEventListener("click",t=>{t.preventDefault();let n=i.getAttribute("data-target"),o=i.getAttribute("data-display-style")||"block",s=parseInt(i.getAttribute("data-duration"),10)||5e3;n&&A(n,o,s)})})}var A=(e,i="block",t=5e3)=>{let n=document.getElementById(e);n.style.display=i,setTimeout(()=>{n.style.display="none"},t)};document.addEventListener("DOMContentLoaded",()=>{u(),f(),E("skip-link-main-content"),g(),p(),y(),v(),h({expandedLabel:"&rtrif; ",collapsedLabel:"&dtrif; "}),L(),b(),k()});})();
/*!
 * Copyright (c) 2025-Present Wei Xu
 * ProfilAcademique: https://github.com/xuweiwen/ProfilAcademique
 * Licensed under the MIT License.
 * See LICENSE file for full license text.
 */
/*!
 * This project is a derivative work of the jQuery plugin Greedy Navigation,
 * originally developed by Luke Jackson (https://github.com/lukejacksonn/GreedyNav).
 *
 * The present implementation has been rewritten entirely in native JavaScript,
 * following the logic and structure of the original version.
 *
 * Copyright (c) 2025-Present Wei Xu
 * ProfilAcademique: https://github.com/xuweiwen/ProfilAcademique
 * Modifications licensed under the MIT License.
 * See LICENSE file for full license text.
 */
