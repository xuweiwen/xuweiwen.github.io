(()=>{function m(){let t=document.querySelector('meta[name="google-analytics-id"]').content,o=document.getElementById("cookie-consent-banner"),e=document.getElementById("cookie-consent-accept"),n=document.getElementById("cookie-consent-decline");if(!t||!o)return;window.dataLayer=window.dataLayer||[];function i(){dataLayer.push(arguments)}i("consent","default",{analytics_storage:"denied"});let s=()=>{let r=document.createElement("script");r.async=!0,r.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,document.head.appendChild(r),i("js",new Date),i("config",t)},c=(r,u=!0)=>{u&&localStorage.setItem("cookie-consent",r),o.style.display="none",i("consent","update",{analytics_storage:r==="accepted"?"granted":"denied"}),r==="accepted"&&s()};e==null||e.addEventListener("click",()=>c("accepted")),n==null||n.addEventListener("click",()=>c("declined"));let l=localStorage.getItem("cookie-consent");l?c(l,!1):o.style.display="block"}function g(){let t=document.getElementById("cookie-consent-banner"),o=parseFloat(getComputedStyle(document.documentElement).fontSize),e=()=>{if(t&&t.style.display!=="none"){let n=t.offsetHeight;document.body.style.marginBottom=n+.3*o+"px"}else document.body.style.marginBottom="0"};t&&new MutationObserver(e).observe(t,{attributes:!0,attributeFilter:["style","class"]}),e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e)}function f(){let t=document.querySelector(".author__urls"),o=()=>{let n=document.querySelector(".author__urls-wrapper button"),i=n===null?window.innerWidth>925:!n.offsetParent;t&&(t.style.display=i?"block":"none")};o(),window.addEventListener("resize",o);let e=document.querySelector(".author__urls-wrapper button");e&&e.addEventListener("click",()=>{t&&(t.style.display=t.style.display==="none"||t.style.display===""?"block":"none"),e.classList.toggle("open")})}function h(){let t=document.getElementById("site-nav");if(!t)return;let o=t.querySelector("#theme-toggle"),e=t.querySelector("#dropdown-menu"),n=t.querySelector(".visible-links"),i=t.querySelector(".hidden-links");if(!o||!e||!n||!i)return;let s=[],c=!1,l=(a,d)=>a.classList.contains(d),r=(a,d)=>a.classList.add(d),u=(a,d)=>a.classList.remove(d),v=(a,d)=>a.classList.toggle(d),w=()=>{let d=l(e,"hidden")?t.offsetWidth-o.offsetWidth:t.offsetWidth-o.offsetWidth-e.offsetWidth-30;for(;n.offsetWidth>d&&n.lastElementChild;)s.push(n.offsetWidth),i.insertBefore(n.lastElementChild,i.firstChild),u(e,"hidden");for(;s.length&&d>s[s.length-1]&&i.firstElementChild;)n.appendChild(i.firstElementChild),s.pop();s.length||(r(e,"hidden"),r(i,"hidden")),e.setAttribute("data-count",s.length)},E=()=>{v(i,"hidden"),v(e,"close"),c=!l(i,"hidden")},x=()=>{c&&(r(i,"hidden"),u(e,"close"),c=!1)};window.addEventListener("resize",w),window.addEventListener("scroll",x),e.addEventListener("click",E),w()}function p({expandedLabel:t=" - show",collapsedLabel:o=" - hide"}={}){document.querySelectorAll(".header").forEach(e=>{let n=e.nextElementSibling;n.style.maxHeight="0",n.style.overflow="hidden",e.textContent=e.textContent+t,e.addEventListener("click",()=>{n.style.maxHeight!=="0px"&&n.style.maxHeight!==""?(n.style.maxHeight="0",e.textContent=e.textContent.replace(o,t)):(n.style.maxHeight=n.scrollHeight+"px",e.textContent=e.textContent.replace(t,o))})})}function y(){let t=document.querySelector('meta[name="theme-color"]'),o=document.getElementById("theme-toggle"),e=document.getElementById("icon-moon"),n=document.getElementById("icon-sun");if(!t||!o)return;let i=c=>{let l=c==="light";document.documentElement.setAttribute("data-theme",c),localStorage.setItem("theme",c),e.classList.toggle("visible",l),n.classList.toggle("visible",!l),e.style.opacity=l?1:0,n.style.opacity=l?0:1,t.setAttribute("content",l?"#ffffff":"#000000")};o.addEventListener("click",()=>{let l=(document.documentElement.getAttribute("data-theme")==="dark"?"dark":"light")==="dark"?"light":"dark";i(l)});let s=localStorage.getItem("theme");if(s)i(s);else{let c=window.matchMedia("(prefers-color-scheme: dark)").matches;i(c?"dark":"light")}}function b(t){let o=document.getElementById(t);o&&o.addEventListener("click",e=>{var s;e.preventDefault();let n=(s=o.getAttribute("href"))==null?void 0:s.substring(1);if(!n)return;let i=document.getElementById(n);i&&(i.scrollIntoView({behavior:"smooth"}),i.setAttribute("tabindex","-1"),i.focus())})}function k(){document.querySelectorAll(".show-notice-link").forEach(o=>{o.addEventListener("click",e=>{e.preventDefault();let n=o.getAttribute("data-target"),i=o.getAttribute("data-display-style")||"block",s=parseInt(o.getAttribute("data-duration"),10)||5e3;n&&C(n,i,s)})})}var C=(t,o="block",e=5e3)=>{let n=document.getElementById(t);n.style.display=o,setTimeout(()=>{n.style.display="none"},e)};document.addEventListener("DOMContentLoaded",()=>{m(),g(),b("skip-link-main-content"),f(),h(),y(),p({expandedLabel:" - show",collapsedLabel:" - hide"}),k()});})();
/*!
 * Copyright (c) 2025 Wei Xu
 * ProfilAcademique: https://github.com/xuweiwen/ProfilAcademique
 * Licensed under the MIT License.
 * See LICENSE file for full license text.
 */
/*!
 * This project is a derivative work of the jQuery plugin Greedy Navigation,
 * originally developed by Luke Jackson (https://github.com/lukejacksonn/GreedyNav).
 *
 * The present implementation has been rewritten entirely in native JavaScript,
 * following the logic and structure of the original version.
 *
 * Copyright (c) 2025 Wei Xu
 * ProfilAcademique: https://github.com/xuweiwen/ProfilAcademique
 * Modifications licensed under the MIT License.
 * See LICENSE file for full license text.
 */
