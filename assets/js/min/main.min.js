(()=>{function u(){let n=document.querySelector('meta[name="google-analytics-id"]').content,i=document.getElementById("cookie-consent-banner"),t=document.getElementById("cookie-consent-accept"),e=document.getElementById("cookie-consent-decline");if(!n||!i)return;window.dataLayer=window.dataLayer||[];function o(){dataLayer.push(arguments)}o("consent","default",{analytics_storage:"denied"});let s=()=>{let d=document.createElement("script");d.async=!0,d.src=`https://www.googletagmanager.com/gtag/js?id=${n}`,document.head.appendChild(d),o("js",new Date),o("config",n)},c=(d,m=!0)=>{m&&localStorage.setItem("cookie-consent",d),i.style.display="none",o("consent","update",{analytics_storage:d==="accepted"?"granted":"denied"}),d==="accepted"&&s()};t==null||t.addEventListener("click",()=>c("accepted")),e==null||e.addEventListener("click",()=>c("declined"));let l=localStorage.getItem("cookie-consent");l?c(l,!1):i.style.display="block"}function f(){let n=document.getElementById("cookie-consent-banner"),i=parseFloat(getComputedStyle(document.documentElement).fontSize),t=()=>{if(n&&n.style.display!=="none"){let e=n.offsetHeight;document.body.style.marginBottom=e+.3*i+"px"}else document.body.style.marginBottom="0"};n&&new MutationObserver(t).observe(n,{attributes:!0,attributeFilter:["style","class"]}),t(),window.addEventListener("resize",t),window.addEventListener("orientationchange",t)}function g(){let n=document.querySelector(".author__urls"),i=()=>{let e=document.querySelector(".author__urls-wrapper button"),o=e===null?window.innerWidth>925:!e.offsetParent;n&&(n.style.display=o?"block":"none")};i(),window.addEventListener("resize",i);let t=document.querySelector(".author__urls-wrapper button");t&&t.addEventListener("click",()=>{n&&(n.style.display=n.style.display==="none"||n.style.display===""?"block":"none"),t.classList.toggle("open")})}function p(){let n=document.getElementById("site-nav");if(!n)return;let i=n.querySelector("#theme-toggle"),t=n.querySelector("#dropdown-menu"),e=n.querySelector(".visible-links"),o=n.querySelector(".hidden-links");if(!i||!t||!e||!o)return;let s=[],c=!1,l=(r,a)=>r.classList.contains(a),d=(r,a)=>r.classList.add(a),m=(r,a)=>r.classList.remove(a),E=(r,a)=>r.classList.toggle(a),w=()=>{let a=l(t,"hidden")?n.offsetWidth-i.offsetWidth:n.offsetWidth-i.offsetWidth-t.offsetWidth-30;for(;e.offsetWidth>a&&e.lastElementChild;)s.push(e.offsetWidth),o.insertBefore(e.lastElementChild,o.firstChild),m(t,"hidden");for(;s.length&&a>s[s.length-1]&&o.firstElementChild;)e.appendChild(o.firstElementChild),s.pop();s.length||(d(t,"hidden"),d(o,"hidden")),t.setAttribute("data-count",s.length)},L=()=>{E(o,"hidden"),E(t,"close"),c=!l(o,"hidden")},S=()=>{c&&(d(o,"hidden"),m(t,"close"),c=!1)};window.addEventListener("resize",w),window.addEventListener("scroll",S),t.addEventListener("click",L),w()}function h({expandedLabel:n="&rtrif; ",collapsedLabel:i="&dtrif; "}={}){document.querySelectorAll(".header").forEach(t=>{let e=t.nextElementSibling;if(!e)return;let o=t.textContent.trim();t.innerHTML=n+o,e.dataset.expanded="false",t.addEventListener("click",()=>{let s=e.dataset.expanded==="true";e.dataset.expanded=(!s).toString(),t.innerHTML=(s?n:i)+o,e.style.maxHeight=s?"0px":e.scrollHeight+"px"})})}function y(){let n=document.querySelector('meta[name="theme-color"]'),i=document.getElementById("theme-toggle"),t=document.getElementById("icon-moon"),e=document.getElementById("icon-sun");if(!n||!i)return;let o=c=>{let l=c==="light";document.documentElement.setAttribute("data-theme",c),localStorage.setItem("theme",c),t.classList.toggle("visible",l),e.classList.toggle("visible",!l),t.style.opacity=l?1:0,e.style.opacity=l?0:1,n.setAttribute("content",l?"#ffffff":"#000000")};i.addEventListener("click",()=>{let l=(document.documentElement.getAttribute("data-theme")==="dark"?"dark":"light")==="dark"?"light":"dark";o(l)});let s=localStorage.getItem("theme");if(s)o(s);else{let c=window.matchMedia("(prefers-color-scheme: dark)").matches;o(c?"dark":"light")}}function b(){let n=document.body,i=document.querySelectorAll("[data-modal-open]"),t=document.querySelectorAll("[data-modal-close]");i.forEach(e=>{e.addEventListener("click",()=>{let o=e.dataset.modalOpen;document.getElementById(o).classList.add("active"),n.classList.add("show-modal")})}),t.forEach(e=>{e.addEventListener("click",()=>{e.closest(".modal").classList.remove("active"),document.querySelectorAll(".modal.active").length===0&&n.classList.remove("show-modal")})})}function v(n){let i=document.getElementById(n);i&&i.addEventListener("click",t=>{var s;t.preventDefault();let e=(s=i.getAttribute("href"))==null?void 0:s.substring(1);if(!e)return;let o=document.getElementById(e);o&&(o.scrollIntoView({behavior:"smooth"}),o.setAttribute("tabindex","-1"),o.focus())})}function k(){document.querySelectorAll(".show-notice-link").forEach(i=>{i.addEventListener("click",t=>{t.preventDefault();let e=i.getAttribute("data-target"),o=i.getAttribute("data-display-style")||"block",s=parseInt(i.getAttribute("data-duration"),10)||5e3;e&&x(e,o,s)})})}var x=(n,i="block",t=5e3)=>{let e=document.getElementById(n);e.style.display=i,setTimeout(()=>{e.style.display="none"},t)};document.addEventListener("DOMContentLoaded",()=>{u(),f(),v("skip-link-main-content"),g(),p(),y(),h({expandedLabel:"&rtrif; ",collapsedLabel:"&dtrif; "}),k(),b()});})();
/*!
 * Copyright (c) 2025 Wei Xu
 * ProfilAcademique: https://github.com/xuweiwen/ProfilAcademique
 * Licensed under the MIT License.
 * See LICENSE file for full license text.
 */
/*!
 * This project is a derivative work of the jQuery plugin Greedy Navigation,
 * originally developed by Luke Jackson (https://github.com/lukejacksonn/GreedyNav).
 *
 * The present implementation has been rewritten entirely in native JavaScript,
 * following the logic and structure of the original version.
 *
 * Copyright (c) 2025 Wei Xu
 * ProfilAcademique: https://github.com/xuweiwen/ProfilAcademique
 * Modifications licensed under the MIT License.
 * See LICENSE file for full license text.
 */
