(()=>{function u(){let e=document.querySelector('meta[name="google-analytics-id"]').content,i=document.getElementById("cookie-consent-banner"),n=document.getElementById("cookie-consent-accept"),t=document.getElementById("cookie-consent-decline");if(!e||!i)return;window.dataLayer=window.dataLayer||[];function o(){dataLayer.push(arguments)}o("consent","default",{analytics_storage:"denied"});let s=()=>{let l=document.createElement("script");l.async=!0,l.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(l),o("js",new Date),o("config",e)},c=(l,m=!0)=>{m&&localStorage.setItem("cookie-consent",l),i.style.display="none",o("consent","update",{analytics_storage:l==="accepted"?"granted":"denied"}),l==="accepted"&&s()};n==null||n.addEventListener("click",()=>c("accepted")),t==null||t.addEventListener("click",()=>c("declined"));let r=localStorage.getItem("cookie-consent");r?c(r,!1):i.style.display="block"}function f(){let e=document.getElementById("cookie-consent-banner"),i=parseFloat(getComputedStyle(document.documentElement).fontSize),n=()=>{if(e&&e.style.display!=="none"){let t=e.offsetHeight;document.body.style.marginBottom=t+.3*i+"px"}else document.body.style.marginBottom="0"};e&&new MutationObserver(n).observe(e,{attributes:!0,attributeFilter:["style","class"]}),n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n)}function g(){let e=document.querySelector(".author__urls"),i=()=>{let t=document.querySelector(".author__urls-wrapper button"),o=t===null?window.innerWidth>925:!t.offsetParent;e&&(e.style.display=o?"block":"none")};i(),window.addEventListener("resize",i);let n=document.querySelector(".author__urls-wrapper button");n&&n.addEventListener("click",()=>{e&&(e.style.display=e.style.display==="none"||e.style.display===""?"block":"none"),n.classList.toggle("open")})}function p(){let e=document.getElementById("site-nav");if(!e)return;let i=e.querySelector("#theme-toggle"),n=e.querySelector("#dropdown-menu"),t=e.querySelector(".visible-links"),o=e.querySelector(".hidden-links");if(!i||!n||!t||!o)return;let s=[],c=!1,r=(d,a)=>d.classList.contains(a),l=(d,a)=>d.classList.add(a),m=(d,a)=>d.classList.remove(a),L=(d,a)=>d.classList.toggle(a),w=()=>{let a=r(n,"hidden")?e.offsetWidth-i.offsetWidth:e.offsetWidth-i.offsetWidth-n.offsetWidth-30;for(;t.offsetWidth>a&&t.lastElementChild;)s.push(t.offsetWidth),o.insertBefore(t.lastElementChild,o.firstChild),m(n,"hidden");for(;s.length&&a>s[s.length-1]&&o.firstElementChild;)t.appendChild(o.firstElementChild),s.pop();s.length||(l(n,"hidden"),l(o,"hidden")),n.setAttribute("data-count",s.length)},x=()=>{L(o,"hidden"),L(n,"close"),c=!r(o,"hidden")},S=()=>{c&&(l(o,"hidden"),m(n,"close"),c=!1)};window.addEventListener("resize",w),window.addEventListener("scroll",S),n.addEventListener("click",x),w()}function h({expandedLabel:e="&rtrif; ",collapsedLabel:i="&dtrif; "}={}){document.querySelectorAll(".header").forEach(n=>{let t=n.nextElementSibling;if(!t)return;let o=n.textContent.trim();n.innerHTML=e+o,t.dataset.expanded="false",n.addEventListener("click",()=>{let s=t.dataset.expanded==="true";t.dataset.expanded=(!s).toString(),n.innerHTML=(s?e:i)+o,t.style.maxHeight=s?"0px":t.scrollHeight+"px"})})}function y(){let e=document.querySelector('meta[name="theme-color"]'),i=document.getElementById("theme-toggle"),n=document.getElementById("icon-moon"),t=document.getElementById("icon-sun");if(!e||!i)return;let o=c=>{let r=c==="light";document.documentElement.setAttribute("data-theme",c),localStorage.setItem("theme",c),n.classList.toggle("visible",r),t.classList.toggle("visible",!r),n.style.opacity=r?1:0,t.style.opacity=r?0:1,e.setAttribute("content",r?"#ffffff":"#000000")};i.addEventListener("click",()=>{let r=(document.documentElement.getAttribute("data-theme")==="dark"?"dark":"light")==="dark"?"light":"dark";o(r)});let s=localStorage.getItem("theme");if(s)o(s);else{let c=window.matchMedia("(prefers-color-scheme: dark)").matches;o(c?"dark":"light")}}function b(){let e=document.body,i=document.querySelectorAll("[data-modal-open]"),n=document.querySelectorAll("[data-modal-close]");i.forEach(t=>{t.addEventListener("click",()=>{let o=t.dataset.modalOpen;document.getElementById(o).classList.add("active"),e.classList.add("show-modal")})}),n.forEach(t=>{t.addEventListener("click",()=>{t.closest(".modal").classList.remove("active"),document.querySelectorAll(".modal.active").length===0&&e.classList.remove("show-modal")})})}function v(){document.querySelectorAll('a[href^="http"]').forEach(e=>{e.href.startsWith(location.origin)||(e.target="_blank",e.rel="noopener noreferrer")})}function k(e){let i=document.getElementById(e);i&&i.addEventListener("click",n=>{var s;n.preventDefault();let t=(s=i.getAttribute("href"))==null?void 0:s.substring(1);if(!t)return;let o=document.getElementById(t);o&&(o.scrollIntoView({behavior:"smooth"}),o.setAttribute("tabindex","-1"),o.focus())})}function E(){document.querySelectorAll(".show-notice-link").forEach(i=>{i.addEventListener("click",n=>{n.preventDefault();let t=i.getAttribute("data-target"),o=i.getAttribute("data-display-style")||"block",s=parseInt(i.getAttribute("data-duration"),10)||5e3;t&&I(t,o,s)})})}var I=(e,i="block",n=5e3)=>{let t=document.getElementById(e);t.style.display=i,setTimeout(()=>{t.style.display="none"},n)};document.addEventListener("DOMContentLoaded",()=>{u(),f(),k("skip-link-main-content"),g(),p(),y(),v(),h({expandedLabel:"&rtrif; ",collapsedLabel:"&dtrif; "}),E(),b()});})();
/*!
 * Copyright (c) 2025 Wei Xu
 * ProfilAcademique: https://github.com/xuweiwen/ProfilAcademique
 * Licensed under the MIT License.
 * See LICENSE file for full license text.
 */
/*!
 * This project is a derivative work of the jQuery plugin Greedy Navigation,
 * originally developed by Luke Jackson (https://github.com/lukejacksonn/GreedyNav).
 *
 * The present implementation has been rewritten entirely in native JavaScript,
 * following the logic and structure of the original version.
 *
 * Copyright (c) 2025 Wei Xu
 * ProfilAcademique: https://github.com/xuweiwen/ProfilAcademique
 * Modifications licensed under the MIT License.
 * See LICENSE file for full license text.
 */
